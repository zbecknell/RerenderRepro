@page "/fetchdata"
@using RerenderRepro.Shared
@inject HttpClient Http

<button @onclick="OnClickTest">Test</button>

@if (forecasts != null)
{
    @foreach (var forecast in forecasts)
    {
        <ForecastRow Forecast="forecast" />
    }
}

@code {
    private WeatherForecast[] forecasts;

    void OnClickTest()
    {}

    protected override async Task OnInitializedAsync()
    {
        forecasts = await Http.GetJsonAsync<WeatherForecast[]>("WeatherForecast");
    }
}
